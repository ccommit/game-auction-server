<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ccommit.gameauctionserver.mapper.ItemMapper">

    <insert id="createItem" parameterType="com.ccommit.gameauctionserver.dto.Item">
        <selectKey keyProperty="id" resultType="int" order="BEFORE">
            SELECT IFNULL(MAX(id), 0) + 1 FROM item
        </selectKey>
        INSERT INTO item (  id
                            ,name
                            ,equipment_level
                            ,rating
                            ,main_type
                            ,sub_type
                            ,property1
                            ,property2
                            ,item_image_url
                            ,user_id
                            ,is_Exist)
        VALUE ( #{id}
                ,#{name}
                ,#{equipmentLevel}
                ,#{rating}
                ,#{mainType}
                ,#{subType}
                ,#{property1}
                ,#{property2}
                ,#{itemImageURL}
                ,#{userID}
                ,#{isExist});

    </insert>

    <select id="readItem" parameterType="int" resultType="com.ccommit.gameauctionserver.dto.Item">
        SELECT  id
                ,name
                ,equipment_level as equipmentLevel
                ,rating
                ,main_type as mainType
                ,sub_type as subType
                ,property1
                ,property2
                ,item_image_url as itemImageURL
                ,user_id as userID
                ,is_Exist as isExist
        FROM item
        WHERE id = #{id}
    </select>


</mapper>