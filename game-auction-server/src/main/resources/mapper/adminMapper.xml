<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ccommit.gameauctionserver.mapper.AdminMapper">

    <update id="updateUserType">
        UPDATE  user
        SET     user_type   = #{userType}
        WHERE   user_id     = #{userId}
    </update>

    <update id="updateBidStatus">
        UPDATE  bid
        SET     sale_status = #{bidStatus}
        WHERE   id = #{bidId}
    </update>

    <insert id="insertSanctionHistory">
        <selectKey keyProperty="id" order="AFTER" resultType="int">
            SELECT LAST_INSERT_ID()
        </selectKey>
        INSERT INTO sanctionhistory (   admin_user_id,
                                        target_user_id,
                                        target_bid_id,
                                        reason )
        VALUES                      (   #{adminId},
                                        #{userId},
                                        #{bidId},
                                        #{reasonType} );
    </insert>
</mapper>
